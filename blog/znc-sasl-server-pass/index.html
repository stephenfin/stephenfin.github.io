<!DOCTYPE html>
<html lang="en-IE">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="author" content="Stephen Finucane">
<meta name="description" content="Configuring ZNC with HexChat I recently set up ZNC instance to capture whatever I may miss when not connected to any of the many OpenStack IRC channels. One tricky part of this configuration was my use of multiple authentication layers. I have ZNC configured to use a server password, but I also have my nick registered on freenode and I would like to use SASL to authenticate this. It turns out that this is relatively easy to do.">

<meta property="og:title" content="Configuring ZNC with HexChat" />
<meta property="og:description" content="Configuring ZNC with HexChat I recently set up ZNC instance to capture whatever I may miss when not connected to any of the many OpenStack IRC channels. One tricky part of this configuration was my use of multiple authentication layers. I have ZNC configured to use a server password, but I also have my nick registered on freenode and I would like to use SASL to authenticate this. It turns out that this is relatively easy to do." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://that.guru/blog/znc-sasl-server-pass/" />



<meta property="article:published_time" content="2016-06-26T14:00:39&#43;01:00"/>

<meta property="article:modified_time" content="2016-06-26T14:00:39&#43;01:00"/>












<title>


     Configuring ZNC with HexChat 

</title>
<link rel="canonical" href="https://that.guru/blog/znc-sasl-server-pass/">







<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/styles/default.min.css">




<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Ubuntu+Mono:400,400i,700,700i|Raleway:500">



    <link rel="stylesheet" href="https://that.guru/css/reset.css">
    <link rel="stylesheet" href="https://that.guru/css/pygments.css">
    <link rel="stylesheet" href="https://that.guru/css/main.css">
    




<link rel="shortcut icon"

    href="https://that.guru/img/favicon.ico"

>








</head>


<body lang="">

<section class="header">
    <div class="container">
        <div class="content">
            
            <a href="https://that.guru/"><img class="avatar" src="https://gravatar.com/avatar/8fbd28ad59a1aa317a5ec175b0778359?s=50" rcset="https://gravatar.com/avatar/8fbd28ad59a1aa317a5ec175b0778359?s=100 2x, https://gravatar.com/avatar/8fbd28ad59a1aa317a5ec175b0778359?s=150 3x, https://gravatar.com/avatar/8fbd28ad59a1aa317a5ec175b0778359?s=200 4x"></a>
            
            <a href="https://that.guru/"><div class="name">Stephen Finucane</div></a>
            
            <nav>
                <ul>
                    
                        <li class="nav-about"><a href="https://that.guru/about/"><span>About</span></a></li>
                    
                        <li class="nav-archives"><a href="https://that.guru/blog/"><span>Archives</span></a></li>
                    
                        <li class="nav-cv"><a href="https://that.guru/media/cv_stephen_finucane_-_may_2016.pdf"><span>CV</span></a></li>
                    
                </ul>
            </nav>
        </div>
    </div>
</section>

<section class="icons">
    <div class="container">
        <div class="content">
        
            <a href="https://www.github.com/stephenfin" target="_blank" rel="noopener"><img class="icon" src="https://that.guru/img/github.svg" alt="github" /></a>
        

        
            <a href="https://www.twitter.com/stephenfin" target="_blank" rel="noopener"><img class="icon" src="https://that.guru/img/twitter.svg" alt="twitter" /></a>
        

	

        

        

        
            <a href="https://www.linkedin.com/in/stephenfinucane" target="_blank" rel="noopener"><img class="icon" src="https://that.guru/img/linkedin.svg" alt="linkedin" /></a>
        

        

        

        

        

        
            <a href="mailto:stephen@that.guru"><img class="icon" src="https://that.guru/img/email.svg" alt="email" /></a>
        

        

        
        </div>
    </div>
</section>

<section class="main">
    <div class="container">
        <div class="content">
            <div class="page-heading">

    Configuring ZNC with HexChat

</div>

            <div class="markdown">
                

<h1 id="configuring-znc-with-hexchat">Configuring ZNC with HexChat</h1>

<p>I recently set up ZNC instance to capture whatever I may miss when not
connected to any of the many <a href="https://wiki.openstack.org/wiki/IRC">OpenStack IRC</a> channels. One
tricky part of this configuration was my use of multiple authentication layers.
I have ZNC configured to use a server password, but I also have my nick
<a href="https://freenode.net/kb/answer/registration">registered on freenode</a> and I would like to use
<a href="https://freenode.net/kb/answer/sasl">SASL</a> to authenticate this. It turns out that this is
relatively easy to do.</p>

<h2 id="configure-server-password-pass-authentication">Configure server password (/PASS) authentication</h2>

<p>You should first configure the connection to your ZNC server. Create a new
server profile (<em>HexChat</em> &gt; <em>Network List</em>, or <code>&lt;Ctrl&gt;</code> + <code>S</code>) and
configure it like so:</p>


<figure >
    
        <img src="https://that.guru/media/znc-sasl-server-pass-1.png"  />
    
    
    <figcaption>
        <h4>Configuring server password authentication</h4>
        
    </figcaption>
    
</figure>



<p>Most of this configuration doesn&rsquo;t differ from the many guides available on
configuring HexChat with ZNC. I&rsquo;m using SSL, so I enable that (and accept my
&ldquo;invalid&rdquo;, self-signed key), and I select this as the server to automatically
connect to when I open HexChat. The interesting bit is the <code>Server Password
&lt;/PASS password</code> section. In here, I have my username and server password
stored in format <code>[username]:[password]</code>, e.g. <code>admin:password</code>.</p>

<p>Once done, I also need to configure a channels you want to connect to on the
<em>Autojoin channels</em> tab:</p>


<figure >
    
        <img src="https://that.guru/media/znc-sasl-server-pass-2.png"  />
    
    
    <figcaption>
        <h4>Configuring autojoin channels</h4>
        
    </figcaption>
    
</figure>



<p>I&rsquo;m mostly concerned with <code>#openstack-xxx</code> channels, but your configuration
will differ.</p>

<h2 id="configure-sasl-authentication">Configure SASL authentication</h2>

<p>Now we should be able to connect to the ZNC server without gettings an <code>Invalid
password</code> errors. However, looking at the logs for the <em>freenode</em> server
connection, we can see that we&rsquo;re being asked to authenticate our registered
nick:</p>

<p><strong>TODO</strong></p>

<p>Time for SASL. Many of these steps are documented on the <a href="http://wiki.znc.in/Sasl">ZNC wiki</a>,
but they&rsquo;re documented here for posterity.</p>

<p>First, <a href="http://wiki.znc.in/Modules#Managing_Modules">load the module</a> on ZNC:</p>

<pre><code>/msg *status loadmodule sasl
</code></pre>

<p>Then, set the mechanism. We use <code>PLAIN</code> (plaintext), which is a-OK as we&rsquo;re
using SSL:</p>

<pre><code>/msg *sasl mechanism PLAIN
</code></pre>

<p>Finally, supply your username and password:</p>

<pre><code>/msg *sasl set &lt;username&gt; &lt;password&gt;
</code></pre>

<p>That should be the end the need to run pesky <code>nickserv</code> commands.</p>

<h2 id="wrap-up">Wrap up</h2>

<p>We now have authentication against the server, using a server password, and
authentication against the nickserv, using SASL. Pretty much hassle free.</p>

            </div>
        </div>
    </div>
</section>


<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-80652159-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>



  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js"></script>
  

  <script type="text/javascript">
    hljs.initHighlightingOnLoad();
  </script>





</body>
</html>

