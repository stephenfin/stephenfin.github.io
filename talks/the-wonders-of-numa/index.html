<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8">
  <title>The Wonders of NUMA | that.guru</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="og:site_name" content="Stephen Finucane (Fin-oo-can)" />
  

  <link rel="shortcut icon" href="https://that.guru/img/favicon.ico">
  <link rel="manifest" href="site.webmanifest">
  <link rel="apple-touch-icon" href="https://that.guru/icon.png">

  <link rel="stylesheet" href="https://that.guru/css/normalize.css">
  <link rel="stylesheet" href="https://that.guru/css/main.css">
  <link rel="preload" href="https://that.guru/css/syntax.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://that.guru/css/syntax.css"/></noscript>
  <link rel="preload" href="https://that.guru/css/fontawesome.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://that.guru/css/fontawesome.css"/></noscript>
  <link rel="preload" href="https://that.guru/css/solid.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://that.guru/css/solid.css"/></noscript>
  <link rel="preload" href="https://that.guru/css/brands.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://that.guru/css/brands.css"/></noscript>
  <style type="text/css">
    .header-wrapper {
      background-image: url(https://images.unsplash.com/photo-1498084393753-b411b2d26b34?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzODQ4Mzh8MHwxfGFsbHx8fHx8fHx8fDE3MjQ3NjkzMTF8&ixlib=rb-4.0.3&q=80&w=1080);
    }
  </style>
</head>

<body>
<a class="home-button" href="https://that.guru/">
  <i class="fas fa-home"></i>
</a>

<div class="header-wrapper">
  <header class="header">
    <h1 class="title">The Wonders of NUMA</h1>

    <span class="header-attrib">
        Image by <a href="https://unsplash.com/@marcojodoin">
            marcojodoin
        </a> / <a href="https://unsplash.com/photos/long-exposure-photography-of-road-and-cars-NqOInJ-ttqM">Unsplash</a>
    </span>

    <nav class="site-nav">
      <div class="site-nav-left">
        <ul class="menu" role="menu">
          <li role="menuitem" class="menu-item"><a href="https://that.guru/blog">Blog</a></li>
          <li role="menuitem" class="menu-item"><a href="https://that.guru/talks">Talks</a></li>
          <li role="menuitem" class="menu-item"><a href="https://that.guru/cookbooks">Cookbooks</a></li>
          <li role="menuitem" class="menu-item"><a href="https://that.guru/about">About</a></li>
        </ul>
      </div>
      <div class="site-nav-right">
        <div class="social-links">
          <a class="social-link" alt="GitHub" href="https://github.com/stephenfin">
            <i class="fab fa-github"></i>
          </a>
          <a class="social-link" alt="Twitter" href="https://twitter.com/stephenfin">
            <i class="fab fa-twitter"></i>
          </a>
          <a class="social-link" alt="LinkedIn" href="https://linkedin.com/stephenfinucane">
            <i class="fab fa-linkedin"></i>
          </a>
          <a class="social-link" alt="RSS" href="https://that.guru/blog/index.xml">
            <i class="fas fa-rss"></i>
          </a>
        </div>
      </div>
    </nav>
  </header>
</div>

<div class="main-wrapper">
  <div class="main-inner">
    <main class="content">
  <div class="byline">
    <div class="byline-avatar">
      <a href="https://that.guru/about">
        <img src="https://www.gravatar.com/avatar/8fbd28ad59a1aa317a5ec175b0778359?s=40&d=retro" />
      </a>
    </div>
    <div class="byline-meta">
      <div>
        <address class="author"><a rel="author" href="https://that.guru/about">Stephen Finucane</address></a></address>
      </div>
      <div class="byline-meta-content">
        <span>Presented <time datetime='2018-05-23T00:00:00Z'>May 23, 2018</time></span>
      </div>
    </div>
  </div>

  <article>
    <p>This talk was presented at the <a href="https://www.openstack.org/summit/vancouver-2018/summit-schedule/events/20831/the-wonders-of-numa-or-why-your-high-performance-application-doesnt-perform">OpenStack Summit in Vancouver</a> in May 2018.
It provided an in-depth summary of what NUMA is and why it matters so much for
high-performance workloads. It was delivered as a lightning talk which, to be
honest, wasn&rsquo;t really sufficient for such a complicated area (at least in the
context on NUMA within OpenStack) but the slides should provide a decent
overview of the topic.</p>
<blockquote>
<p>You select the best possible hardware for the job, you optimize the host OS
to deliver the best performance ever seen by mankind, and you tweak your
high-performance vSwitch to ensure nothing, nothing, could possibly stop you
now. You rub your bloodshot eyes, run <code>openstack server create</code> and, well,
things don&rsquo;t look so rosy.</p>
<p>Welcome to the world of OpenStack on NUMA-based architectures, where one poor
scheduling decision can result in drastic performance reductions. Thankfully,
OpenStack realized this some time ago and has been doing many wonderful
things since then to prevent this pain. In this talk, we shine a light on all
things NUMA, from both a general and OpenStack-orientated perspective.</p>
<p>Coming out of this talk, you should know everything there is to know about
NUMA in OpenStack and will be able to, one can hope, finally put those
performance issues to bed and get some sleep.</p>
<p><strong>What can I expect to learn?</strong></p>
<p>The talk is multi-faceted, covering a breadth of topics from hardware design
right up to user interaction with OpenStack deployments. We aim to cover:</p>
<ul>
<li>What NUMA is and why it exists</li>
<li>How and to what extent NUMA can affect your OpenStack deployment, and the
techniques we use under-the-hood to prevent any performance degradation</li>
<li>What you, as a user, can do to further optimize your instances&rsquo; performance</li>
</ul>
<p>In addition, work continues on these features. We also take a look forward at
some of the work we&rsquo;re doing to further improve things:</p>
<ul>
<li>Why OVS-DPDK doesn&rsquo;t deliver on NUMA-based systems, and what we&rsquo;re doing
about it (*)</li>
<li>Why live migration with CPU pinning doesn&rsquo;t work, and what we&rsquo;re doing
about it (*)</li>
</ul>
<p>(*) If we haven&rsquo;t already <em>done</em> something about it by now</p>
</blockquote>
<p>More information is available on the <a href="https://www.openstack.org/summit/vancouver-2018/summit-schedule/events/20831/the-wonders-of-numa-or-why-your-high-performance-application-doesnt-perform">OpenStack Summit Vancouver</a> website.</p>

<script async class="speakerdeck-embed" data-id="a1fb06c606014e3ca67b79ec9b99b3f0" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>



  </article>

  <div class="categories">
    
    <a class="category" href="https://that.guru/categories/openstack">#openstack</a>
    
  </div>

    </main>
  </div>
</div>

<div class="footer-wrapper">
  <footer>
    <p>&copy; 2025 Stephen Finucane</p>

    <div class="social-links">
      <a class="social-link" alt="GitHub" href="https://github.com/stephenfin">
        <i class="fab fa-github"></i>
      </a>
      <a class="social-link" alt="Twitter" href="https://twitter.com/stephenfin">
        <i class="fab fa-twitter"></i>
      </a>
      <a class="social-link" alt="LinkedIn" href="https://linkedin.com/stephenfinucane">
        <i class="fab fa-linkedin"></i>
      </a>
      </div>
  </footer>
</div>

<script src="https://that.guru/js/highlight.min.js"></script>



</body>
</html>
